webpackJsonp([9],{190:function(t,a,e){function r(t){e(691)}var n=e(43)(e(641),e(729),r,"data-v-60218347",null);t.exports=n.exports},290:function(t,a,e){t.exports={default:e(292),__esModule:!0}},291:function(t,a,e){"use strict";a.__esModule=!0;var r=e(290),n=function(t){return t&&t.__esModule?t:{default:t}}(r);a.default=n.default||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}},292:function(t,a,e){e(294),t.exports=e(22).Object.assign},293:function(t,a,e){"use strict";var r=e(14),n=e(46),o=e(23),i=e(79),l=e(80),s=Object.assign;t.exports=!s||e(13)(function(){var t={},a={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){a[t]=t}),7!=s({},t)[e]||Object.keys(s({},a)).join("")!=r})?function(t,a){for(var e=i(t),s=arguments.length,A=1,d=n.f,c=o.f;s>A;)for(var m,p=l(arguments[A++]),h=d?r(p).concat(d(p)):r(p),C=h.length,u=0;C>u;)c.call(p,m=h[u++])&&(e[m]=p[m]);return e}:s},294:function(t,a,e){var r=e(44);r(r.S+r.F,"Object",{assign:e(293)})},639:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA8CAYAAADVPrJMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjUyQ0MyMDgwNjFFRTExRTc5QTBEREU4MEY3N0E0Q0MxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjUyQ0MyMDgxNjFFRTExRTc5QTBEREU4MEY3N0E0Q0MxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTJDQzIwN0U2MUVFMTFFNzlBMERERTgwRjc3QTRDQzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTJDQzIwN0Y2MUVFMTFFNzlBMERERTgwRjc3QTRDQzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7PXsSOAAAExUlEQVR42uRb+U8TQRSeHrQUipSj4MEhh0YkRhPj8f//ojFGo4CiIodgabltC3Jo8b3k27gOb7uz7W67W7/kS3V3M843896b92bGmPIXceIAcZDYR8wSM8QEyPgFnhCrxDJxj1hRLULMJ6GjxDFi3ibOK86J28Qt4kFYRXcRp8CUz/3iWf9CLBAvwyA6DqF3IDxIHBMXiTvtFJ0jPoK/1sNv4hF89him+wsDxuafhr9zO9cM+lEkvieetVr0NHEOHXfyyQJ4SKx5cJNh4i3EBqf2T4lviPutEB3H7N6qY4Lsf989CHVCCoN728F12L8XiBtBimZTfIKorIPNdZm4HkCw6YJVTTq8/0T83GjjCZcZfuogmNfVF/gNAmwxJbSfF2Z9GN8c+C2aTfqG8JxN+R1mOmj8JG4igPZo7/JIcMp+iWa/mhX8aYm4olqLGoJjVlg1RmERZ82K7ic+FvydBa+p9uASy9Y1iLfHpDysodaoaG7kGbFbMOkV1X4UITKjRXzWseslu7JjCqNpxz6iZRjAs/kaOYFbv41EJ4l3hWXpTRD5bxM4RSDVLfR+I6KlhGAZ/0jYUBTy8TzikbFo/p0RMq11FV4sCc9mvYgeEcrDlZCZtY4qljI7rptUfpboMe35BYr5sGNV0HPTRHQcM22HH8VDK3AIN9QTFlfROWG9LqjoQO/rkFshFcdH+gbAYYRE6/V10m3NjmtpncKORy1iovWA2+dVdEVFCzVUY3Zk3URnhPU5aqhqf8+4iU4Ky1XUcC74dV3RiQ4Q/dur6P8OcWGUuiKoIylUh3VF6x+kIig65VX0iZdwH1LofT5xE12NuOiksER5Fi3l4mHGoPDsyE30nvBsMEKihwV/rrqJ/iE4/s2ICI4Jfd1z2/yI44OSIDoKJj4k+PO26c7JphAcJiIgelrIzEqmotkk9F3PmZBnbP3CLknBJI22RLGJfxUqlZkQi54Xnq2apqEWNoRqhe+V9IRQ8Ji6uuPDvlz2Kpr94aP2noPZ45CZeS/xgfaMLXXZtAE9QvNI6QdkfJiXNgkQLcq+ngsR+4tJ1HYSzeBNwXFtdnP43W+jYOtmxID2nLe33ioPBxMJh10IjuTXHTKfdghPKPkqCCdVL5UPh/KWmaeEUR2Gae2q1h35dMOkh4R3vJ/HFwVqfohWECZdebDWxz0V/NbSKAT3OrxPY2IKzZq3HSUH4Tz6k/CzowBmndvniz73DPrYA+Hbpv1wa9C669ElmHoMJjeBP1dU84cELGAOgqVTCl5Wt9TVc2hPwk2Lih0U5iPCmp1EgJm2WcSZhwHoRYEzD+aUfBZ1gqD1DcF2tFHhXi/Esqk/NKy3K6hrq/B960JsEkHScpuMQVssdEkrgW8LSYpVR7xSVzc8GxZtYRxmmA44kHHO8EE53wxsSHijNXMZS8UpZsvvbWPu9CLS4p91vjuqY+o5p6jezEbBJXZd1tTfk8Nu5XK6UAdVFD0LqPhMz9SsU9a8ECv6JR+PBWCSfYjqWfXvf1xJ2rKoCwSmYwzcvmr+FtMsXE5adl/bA2tMdRaMhCc6TPSBg6ln7abeaaLdhDOLnSi6nnDOE3Y6VbQl/AyB1bo6xkVUIaY6Hxn190Ykr9vHfwQYAKE7HLMkQb13AAAAAElFTkSuQmCC"},641:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e(291),n=e.n(r),o=e(81),i=e(47),l=e.n(i);a.default={data:function(){return{platNum:"",myPoint:{lng:0,lat:0},tips:"请至少输入四位要查询的车牌号！",tipShow:!1,map:null,opts:{width:600,title:"信息窗口",enableMessage:!0},resultList:[],isActive:!1}},computed:n()({},e.i(o.b)(["userInfo"])),methods:{showList:function(){var t=this;t.isActive=!0;var a=t.platNum,e={text:a,type:1002,userId:t.userInfo.userId};l.a.get("/api/autocomplete",{params:e}).then(function(a){var a=JSON.parse(a.data),e=a.data;t.resultList=e})},selectOne:function(t){var a=this;a.platNum=t.Name,a.isActive=!0,a.resultList=[]},searchPlat:function(){var t=this,a=t.platNum,e={platNum:a,userId:t.userInfo.userId};console.log(e),l.a.post("/api/Vehicle/QueryAlarmVehicleInfo",e).then(function(a){var a=JSON.parse(a.data);if(0==a.code)if(1==a.data.length){var e=a.data[0];e.lat=e.lat/1e6,e.lng=e.lng/1e6;var r=new BMap.Icon("./static/img/resultCar.png",new BMap.Size(22,33)),n=new BMap.Marker(new BMap.Point(e.lng,e.lat),{icon:r});t.map.addOverlay(n),t.map.centerAndZoom(new BMap.Point(e.lng,e.lat),16);var o=(e.carId,e.carType,e.carPlat,e.carColor,e.unitName,e.platformName,e.location,e.corporation,'<div class="map-info-win"><table><tr><td>所属企业：</td><td>'+e.unitName+"</td></tr><tr><td>所属接入平台：</td><td>"+e.platformName+"</td></tr><tr><td>地址：</td><td>"+e.location+"</td></tr><tr><td>速度/限速值：</td><td>"+e.speedCvt+"/"+e.limitSpeed+" km/h</td></tr><tr><td>报警类型：</td><td>"+e.alarmType+"</td></tr><tr><td>报警时间：</td><td>"+e.gpsDateCvt+"</td></tr></table></div>"),i='<h2 style="font-size:14px;border-bottom:1px solid #eee;margin-bottom: 10px;">'+e.carPlat+e.carColor+"</h2>";t.opts.title=i;var l=new BMap.InfoWindow(o,t.opts);t.map.openInfoWindow(l,new BMap.Point(e.lng,e.lat)),t.addClickHandler(o,n,new BMap.Point(e.lng,e.lat),i)}else a.data.length>1?(t.tips="请从下拉框里准确选择一辆车进行信息查看！",t.tipShow=!0,setTimeout(function(){t.tipShow=!1},1e3)):(t.tips="未查询到相关结果！",t.tipShow=!0,setTimeout(function(){t.tipShow=!1},1e3));else t.tips="请从下拉框里准确选择一辆车进行信息查看！",t.tipShow=!0,setTimeout(function(){t.tipShow=!1},1e3),console.log(a.msg)}).catch(function(t){console.log(t)})},getMyPosition:function(){var t=this;this.map=new BMap.Map("alarmMapPanel"),this.map.enableScrollWheelZoom(!0),this.map.enablePinchToZoom(!0),(new BMap.Geolocation).getCurrentPosition(function(a){if(this.getStatus()==BMAP_STATUS_SUCCESS){var e=new BMap.Icon("./static/img/local.png",new BMap.Size(137,62)),r=new BMap.Marker(a.point,{icon:e});t.map.addOverlay(r),t.map.centerAndZoom(a.point,16),console.log("您的位置："+a.point.lng+","+a.point.lat),console.log("=====我的位置===="),t.myPoint.lng=(1e6*a.point.lng).toFixed(0),t.myPoint.lat=(1e6*a.point.lat).toFixed(0),console.log(t.myPoint),t.getAlarmPoint()}else alert("failed"+this.getStatus())},{enableHighAccuracy:!0})},getAlarmPoint:function(){var t=this,a={lng:t.myPoint.lng,lat:t.myPoint.lat,userId:t.userInfo.userId};l.a.post("/api/Vehicle/QueryAlarmVehicleInfoNear",a).then(function(a){var a=JSON.parse(a.data);if(0==a.code)if(a.data.length>0){var e=a.data;for(var r in e){var n=e[r];console.log(n),n.lng=parseFloat(n.lng)/1e6,n.lat=parseFloat(n.lat)/1e6;var o=new BMap.Icon("./static/img/alarmCar.png",new BMap.Size(24,24)),i=new BMap.Marker(new BMap.Point(n.lng,n.lat),{icon:o});t.map.addOverlay(i);var l='<div class="map-info-win"><table><tr><td>所属企业：</td><td>'+n.unitName+"</td></tr><tr><td>所属接入平台：</td><td>"+n.platformName+"</td></tr><tr><td>地址：</td><td>"+n.location+"</td></tr><tr><td>速度/限速值：</td><td>"+n.speedCvt+"/"+n.limitSpeed+" km/h</td></tr><tr><td>报警类型：</td><td>"+n.alarmType+"</td></tr><tr><td>报警时间：</td><td>"+n.gpsDateCvt+"</td></tr></table></div>",s='<h2 style="font-size:14px;border-bottom: 1px solid #eee;margin-bottom: 10px;">'+n.carPlat+n.carColor+"</h2>";t.addClickHandler(l,i,new BMap.Point(n.lng,n.lat),s)}}else alert("附近暂无报警车辆！");else console.log(a.msg)}).catch(function(t){console.log(t)})},addClickHandler:function(t,a,e,r){var n=this;a.addEventListener("click",function(){n.opts.title=r;var a=new BMap.InfoWindow(t,n.opts);n.map.openInfoWindow(a,e)})}},mounted:function(){var t=this;this.$nextTick(function(){t.getMyPosition()})}}},674:function(t,a,e){a=t.exports=e(187)(!0),a.push([t.i,"#alarmCar[data-v-60218347]{width:100%;height:100%}#alarmCar .searchBox[data-v-60218347]{position:absolute;z-index:10;width:8.66667rem;height:1.33333rem;top:.53333rem;left:.66667rem;margin:0 auto}#alarmCar .searchBox .search-input[data-v-60218347]{width:100%;height:100%;border-radius:.13333rem;border:1px solid #eee;background-color:#fff;font-size:.45333rem;padding-left:.26667rem}#alarmCar .searchBox[data-v-60218347] :-moz-placeholder,#alarmCar .searchBox[data-v-60218347] ::-moz-placeholder{color:gray}#alarmCar .searchBox input[data-v-60218347]:-ms-input-placeholder,#alarmCar .searchBox textarea[data-v-60218347]:-ms-input-placeholder{color:gray}#alarmCar .searchBox input[data-v-60218347]::-webkit-input-placeholder,#alarmCar .searchBox textarea[data-v-60218347]::-webkit-input-placeholder{color:gray}#alarmCar .searchBox .searchBtn[data-v-60218347]{width:1.33333rem;padding:0 .26667rem;height:.8rem;position:absolute;right:0;top:.26667rem;border-left:1px solid #eee}#alarmCar .searchBox .searchBtn img[data-v-60218347]{width:.8rem;height:.8rem}#alarmCar .searchBox .resultList[data-v-60218347]{display:none;width:100%;height:auto;position:absolute;background-color:#fff}#alarmCar .searchBox .resultList .list[data-v-60218347]{width:100%;height:.93333rem;line-height:.93333rem;border:1px solid #eee;border-top:none;padding:0 .26667rem}#alarmCar .searchBox .resultList .list .color[data-v-60218347]{margin-left:.13333rem}#alarmCar .searchBox .resultList .list .carId[data-v-60218347]{display:none}#alarmCar .searchBox .resultList .list[data-v-60218347]:hover{background-color:#eee;cursor:pointer}#alarmCar .searchBox .resultList.active[data-v-60218347]{display:block}#alarmCar .tips[data-v-60218347]{position:absolute;z-index:10000;top:35%;left:50%;margin-left:-2.66667rem;width:5.86667rem;padding:.4rem 0;background-color:rgba(0,0,0,.6);border-radius:.13333rem;text-align:center;color:#fff;font-size:.34667rem}#alarmMapPanel[data-v-60218347]{position:relative;width:100%;height:100%;z-index:-1}","",{version:3,sources:["D:/workspace/platform-web/src/components/index/alarmCar.vue"],names:[],mappings:"AAKA,2BACE,WAAY,AACZ,WAAa,CACd,AACD,sCACI,kBAAmB,AACnB,WAAY,AACZ,iBAAkB,AAClB,kBAAmB,AACnB,cAAgB,AAChB,eAAiB,AACjB,aAAe,CAClB,AACD,oDACM,WAAY,AACZ,YAAa,AACb,wBAA0B,AAC1B,sBAAuB,AACvB,sBAAuB,AACvB,oBAAsB,AACtB,sBAAyB,CAC9B,AAKD,iHAEM,UAAe,CACpB,AACD,uIAEM,UAAe,CACpB,AACD,iJAEM,UAAe,CACpB,AACD,iDACM,iBAAkB,AAClB,oBAAsB,AACtB,aAAe,AACf,kBAAmB,AACnB,QAAS,AACT,cAAgB,AAChB,0BAA4B,CACjC,AACD,qDACQ,YAAc,AACd,YAAe,CACtB,AACD,kDACM,aAAc,AACd,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,qBAAuB,CAC5B,AACD,wDACQ,WAAY,AACZ,iBAAmB,AACnB,sBAAwB,AACxB,sBAAuB,AACvB,gBAAiB,AACjB,mBAAsB,CAC7B,AACD,+DACU,qBAAwB,CACjC,AACD,+DACU,YAAc,CACvB,AACD,8DACQ,sBAAuB,AACvB,cAAgB,CACvB,AACD,yDACM,aAAe,CACpB,AACD,iCACI,kBAAmB,AACnB,cAAe,AACf,QAAS,AACT,SAAU,AACV,wBAAyB,AACzB,iBAAkB,AAClB,gBAAkB,AAClB,gCAAqC,AACrC,wBAA0B,AAC1B,kBAAmB,AACnB,WAAY,AACZ,mBAAsB,CACzB,AACD,gCACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AAIb,UAAY,CACb",file:"alarmCar.vue",sourcesContent:['\n@charset "UTF-8";\n/*==定义一些混合宏==*/\n/*change the default color of input placeholder*/\n/*==定义占位选择器(如果不调用则不会有任何多余的css文件,避免代码重复冗余,通过@extend调用)==*/\n#alarmCar[data-v-60218347] {\n  width: 100%;\n  height: 100%;\n}\n#alarmCar .searchBox[data-v-60218347] {\n    position: absolute;\n    z-index: 10;\n    width: 8.66667rem;\n    height: 1.33333rem;\n    top: 0.53333rem;\n    left: 0.66667rem;\n    margin: 0 auto;\n}\n#alarmCar .searchBox .search-input[data-v-60218347] {\n      width: 100%;\n      height: 100%;\n      border-radius: 0.13333rem;\n      border: 1px solid #eee;\n      background-color: #fff;\n      font-size: 0.45333rem;\n      padding-left: 0.26667rem;\n}\n#alarmCar .searchBox[data-v-60218347] :-moz-placeholder {\n      /* Mozilla Firefox 4 to 18 */\n      color: #808080;\n}\n#alarmCar .searchBox[data-v-60218347] ::-moz-placeholder {\n      /* Mozilla Firefox 19+ */\n      color: #808080;\n}\n#alarmCar .searchBox input[data-v-60218347]:-ms-input-placeholder,\n    #alarmCar .searchBox textarea[data-v-60218347]:-ms-input-placeholder {\n      color: #808080;\n}\n#alarmCar .searchBox input[data-v-60218347]::-webkit-input-placeholder,\n    #alarmCar .searchBox textarea[data-v-60218347]::-webkit-input-placeholder {\n      color: #808080;\n}\n#alarmCar .searchBox .searchBtn[data-v-60218347] {\n      width: 1.33333rem;\n      padding: 0 0.26667rem;\n      height: 0.8rem;\n      position: absolute;\n      right: 0;\n      top: 0.26667rem;\n      border-left: 1px solid #eee;\n}\n#alarmCar .searchBox .searchBtn img[data-v-60218347] {\n        width: 0.8rem;\n        height: 0.8rem;\n}\n#alarmCar .searchBox .resultList[data-v-60218347] {\n      display: none;\n      width: 100%;\n      height: auto;\n      position: absolute;\n      background-color: #fff;\n}\n#alarmCar .searchBox .resultList .list[data-v-60218347] {\n        width: 100%;\n        height: 0.93333rem;\n        line-height: 0.93333rem;\n        border: 1px solid #eee;\n        border-top: none;\n        padding: 0 0.26667rem;\n}\n#alarmCar .searchBox .resultList .list .color[data-v-60218347] {\n          margin-left: 0.13333rem;\n}\n#alarmCar .searchBox .resultList .list .carId[data-v-60218347] {\n          display: none;\n}\n#alarmCar .searchBox .resultList .list[data-v-60218347]:hover {\n        background-color: #eee;\n        cursor: pointer;\n}\n#alarmCar .searchBox .resultList.active[data-v-60218347] {\n      display: block;\n}\n#alarmCar .tips[data-v-60218347] {\n    position: absolute;\n    z-index: 10000;\n    top: 35%;\n    left: 50%;\n    margin-left: -2.66667rem;\n    width: 5.86667rem;\n    padding: 0.4rem 0;\n    background-color: rgba(0, 0, 0, 0.6);\n    border-radius: 0.13333rem;\n    text-align: center;\n    color: #fff;\n    font-size: 0.34667rem;\n}\n#alarmMapPanel[data-v-60218347] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  /* @include pxrem(padding-top, 190);\n  @include pxrem(margin-bottom, 100);\n  @include pxrem(height, 930);*/\n  z-index: -1;\n}\n'],sourceRoot:""}])},691:function(t,a,e){var r=e(674);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);e(188)("a5519730",r,!0)},729:function(t,a,e){t.exports={render:function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{attrs:{id:"alarmCar"}},[r("div",{staticClass:"searchBox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.platNum,expression:"platNum"}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜车牌号"},domProps:{value:t.platNum},on:{keyup:function(a){t.showList()},focus:function(a){t.showList()},input:function(a){a.target.composing||(t.platNum=a.target.value)}}}),t._v(" "),r("div",{staticClass:"searchBtn"},[r("img",{attrs:{src:e(639),alt:"",id:"searchBtn"},on:{click:function(a){t.searchPlat()}}})]),t._v(" "),t.resultList.length>0?r("ul",{staticClass:"resultList",class:{active:t.isActive}},t._l(t.resultList,function(a){return r("li",{staticClass:"list",on:{click:function(e){t.selectOne(a)}}},[r("span",{staticClass:"platNum"},[t._v(t._s(a.Name))])])})):t._e()]),t._v(" "),r("div",{attrs:{id:"alarmMapPanel"}}),t._v(" "),t.tipShow?r("div",{staticClass:"tips"},[t._v(t._s(t.tips))]):t._e()])},staticRenderFns:[]}}});
//# sourceMappingURL=9.39570f73c980dd700a4a.js.map